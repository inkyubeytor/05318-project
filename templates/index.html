<!DOCTYPE html>
<html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
          crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>
</head>
<body>
<div class="container">
    Welcome to the content-based recommender system! This
    system can recommend web fiction from the the popular website
    <a href="royalroad.com">RoyalRoad</a> based on what stories you
    input or add to your library.

    Note that the system can currently only work with the top 1000 stories
    (for either the library or recommendations).

    The system will provide a similarity score indicating how close a
    recommendation is to a story or set of stories. These scores have an
    average similarity of 50.
</div>


<div class="container">
    <div class="row">
        <div class="column">
            <h1>Recommender</h1>
            <form method="POST" action="/recommend">
                <div class="form-group">
                    <input name="rec">
                    <div>
                        <button class="btn btn-primary" type="submit"
                                name="action"
                                value="Recommend">Recommend
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% if rec_mode %}
<div class="container">
    <h1>Recommendation Results</h1>
    {% for each in rec %}
    <p>{{ each }}</p>
    {% endfor %}
</div>
{% endif %}

<div class="container">
    <h1>Search</h1>
    <form method="POST" action="/search">
        <div class="form-group">
            <input name="search">
            <div class="col">
                <div><input type="submit" name="action" value="Search">
                </div>
                <div>
                    <input type="submit" name="action" value="Like">
                    <input type="submit" name="action" value="Neutral">
                    <input type="submit" name="action" value="Dislike">
                    <input type="submit" name="action" value="Remove">
                </div>
            </div>
        </div>
    </form>
</div>


{% if not rec_mode %}
<div class="container">
    <h1>Search Results</h1>
    {% for each in search %}
    <p>{{ each }}</p>
    {% endfor %}
</div>
{% endif %}

<div style="height:5em"></div>

<div class="container">
    <div class="d-flex justify-content-center"><h1>Your Library</h1></div>
    <div class="row">
        <div class="col">
            <h2>Likes</h2>
            <ul class="list-group">
                {% for each in likes %}
                <li class="list-group-item">{{ each }}</li>
                {% endfor %}
            </ul>
        </div>
        <div class="col">
            <h2>Dislikes</h2>
            <ul class="list-group">
                {% for each in dislikes %}
                <li class="list-group-item">{{ each }}</li>
                {% endfor %}
            </ul>
        </div>
        <div class="col">
            <h2>Neutral</h2>
            <ul class="list-group">
                {% for each in neutral %}
                <li class="list-group-item">{{ each }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>


</body>
</html>
